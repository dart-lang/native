# Debugging Dart Build Hooks

When a build hook isn't working as expected, you can investigate the
intermediate files generated by the Dart and Flutter SDK build process. These
files provide insight into the inputs, outputs, and any errors that occurred
during the hook's execution.

## Key Debugging Directory

All debugging artifacts are stored within the `.dart_tool` directory of your
project. The hook runner generates a unique folder for each hook execution,
containing temporary and output files.

You can find the most important debugging files in a subdirectory specific to
your hook's execution. For example:
`.dart_tool/hooks_runner/sqlite/221e109fbc/`. The last part of the path is a
hash of the hook's configuration. Inside this directory, you will find:

* `input.json`: Contains the exact configuration and data passed *into* your
  build hook. Reviewing this helps confirm if the hook is receiving the expected
  build configuration.
* `output.json`: This file stores the JSON data that your build hook *produced*
  as its result.
* `stdout.txt`: Captures any standard output from your script. This is where
  messages from a logger or `print` statements will appear.
* `stderr.txt`: Captures any error messages or exceptions thrown during the
  hook's execution.

## Using a Debugger

To step through your code with a debugger, run the build hook from its source
file and provide the `input.json` via the `--config` flag. This allows you to
set breakpoints in your IDE and inspect the hook's execution.

For example:

```sh
dart run path/to/your/hook/build.dart --config .dart_tool/hooks_runner/your_hook_name/some_hash/input.json
```

Make sure to replace `path/to/your/hook/build.dart`, `your_hook_name`, and
`some_hash` with the actual paths from your project.
